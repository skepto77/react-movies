(this.webpackJsonpmovies=this.webpackJsonpmovies||[]).push([[0],{15:function(e,t,c){},18:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),s=c(10),r=c.n(s),i=(c(15),c(4)),l=c(3),o=c(2),j=c(0);function b(){return Object(j.jsx)("nav",{className:"navbar navbar navbar-dark bg-dark shadow-sm",children:Object(j.jsxs)("div",{className:"container-fluid",children:[Object(j.jsxs)("a",{className:"navbar-brand",href:"#!",children:[Object(j.jsx)("img",{src:"https://img.icons8.com/fluent/96/000000/video-gallery.png",alt:"movies",style:{width:"24px"}}),"movies"]}),Object(j.jsx)("span",{className:"navbar-text",children:"Github"})]})})}function u(){return Object(j.jsx)("footer",{className:"navbar navbar-light bg-light",children:Object(j.jsxs)("div",{className:"container-fluid d-flex flex-row justify-content-justify",children:[Object(j.jsxs)("div",{className:"",children:["movies app, ",(new Date).getFullYear()]}),Object(j.jsx)("div",{className:"",children:Object(j.jsx)("span",{className:"navbar-xtext",children:"Github"})})]})})}var d=c(5),h=c.n(d),m=c(8),O=function(){var e=Object(m.a)(h.a.mark((function e(t){var c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://www.omdbapi.com/","?apikey=").concat("61335e").concat(t));case 2:if((c=e.sent).ok){e.next=5;break}throw new Error("Could not fetch ".concat(t)+", received ".concat(c.status));case 5:return e.next=7,c.json();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(m.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("&plot=full&s=doctor");case 2:return t=e.sent,e.abrupt("return",t.Search.map(p));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(m.a)(h.a.mark((function e(t,c){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O("&plot=full&s=".concat(t).concat("all"!==c?"&type=".concat(c):""));case 2:return n=e.sent,e.abrupt("return",n.Search?n.Search.map(p):n);case 4:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),p=function(e){return{title:e.Title,type:e.Type,poster:e.Poster,id:e.imdbID,isWatch:!1}},v=function(){return Object(j.jsx)("div",{className:"d-flex justify-content-center",children:Object(j.jsx)("div",{className:"spinner-border",role:"status",children:Object(j.jsx)("span",{className:"visually-hidden",children:"Loading..."})})})};function g(e){var t=e.getData,c=e.addToWatchList,n=t?t.map((function(e){var t,n=e.title,a=e.type,s=e.poster,r=e.id,i=e.isWatch,l="movie"===a?"badge rounded-pill bg-primary":"badge rounded-pill bg-warning text-dark";return Object(j.jsx)("div",{className:"col-sm-6",children:Object(j.jsxs)("div",{className:"card h-100 border-0 shadow p mb-5 bg-body rounded",children:[Object(j.jsx)("img",{src:s,className:"card-img-top",alt:"{title}"}),Object(j.jsxs)("div",{className:"card-body",children:[Object(j.jsx)("p",{className:l,children:a}),Object(j.jsx)("h5",{className:"card-title",children:n}),Object(j.jsxs)("p",{className:"card-text",children:[(t=n,t&&t.length>5?"".concat(t.substr(0,10)," ..."):t)," This content is a little bit longer."]}),Object(j.jsx)("button",{type:"button",className:"btn btn-sm btn-primary",disabled:!0,children:"Details"}),"\xa0",Object(j.jsx)("button",{type:"button",className:"btn btn-sm btn-light",onClick:function(){return c({id:r,title:n})},children:i?Object(j.jsx)("i",{className:"bi bi-heart-fill",style:{color:"red"}}):Object(j.jsx)("i",{className:"bi bi-heart"})})]})]})},r)})):"no movies";return Object(j.jsx)(j.Fragment,{children:n})}function N(e){return Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("div",{className:"row row-cols-1 row-cols-md-4 g-4",children:Object(j.jsx)(g,Object(i.a)({},e))})})}function y(e){var t=e.onSearch,c=void 0===t?Function.prototype:t,a=Object(n.useState)("doctor"),s=Object(o.a)(a,2),r=s[0],i=s[1],l=Object(n.useState)("all"),b=Object(o.a)(l,2),u=b[0],d=b[1],h=function(e){return d(e.target.value)};return Object(j.jsxs)("form",{onSubmit:function(e){e.preventDefault(),c(r,u)},children:[Object(j.jsxs)("div",{className:"input-group search-input-group",children:[Object(j.jsx)("input",{type:"text",className:"form-control search-input",placeholder:"type to search",onChange:function(e){return i(e.target.value)},value:r}),Object(j.jsx)("button",{type:"submit",className:"btn btn-primary btn-search",children:"Search"})]}),Object(j.jsxs)("div",{className:"form-check form-check-inline",children:[Object(j.jsx)("input",{className:"form-check-input",type:"radio",value:"all",onChange:h,name:"Radios",checked:"all"===u}),Object(j.jsx)("label",{className:"form-check-label",children:"All"})]}),Object(j.jsxs)("div",{className:"form-check form-check-inline",children:[Object(j.jsx)("input",{className:"form-check-input",type:"radio",value:"movie",name:"Radios",onChange:h,checked:"movie"===u}),Object(j.jsx)("label",{className:"form-check-label",children:"Only movies"})]}),Object(j.jsxs)("div",{className:"form-check form-check-inline",children:[Object(j.jsx)("input",{className:"form-check-input",type:"radio",value:"series",name:"Radios",onChange:h,checked:"series"===u}),Object(j.jsx)("label",{className:"form-check-label",children:"Only series"})]})]})}function w(e){var t=e.watchList,c=e.removeFromWatchList;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h5",{children:"My list"}),Object(j.jsx)("ul",{className:"list-group",children:t.length?t.map((function(e){var t=e.id,n=e.title;return Object(j.jsxs)("li",{className:"list-group-item d-flex justify-content-between align-items-center",children:[n,Object(j.jsx)("span",{className:"",onClick:function(){return c({id:t,title:n})},children:Object(j.jsx)("i",{className:"bi bi-x"})})]},t)})):Object(j.jsx)("p",{children:"List is empty"})})]})}function k(e){var t=e.watchList,c=Object(n.useState)(!1),a=Object(o.a)(c,2),s=a[0],r=a[1];return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"",onClick:function(){return r(!s)},children:[Object(j.jsx)("i",{className:"bi bi-heart"})," ",t.length]}),Object(j.jsx)("div",{className:"watchlist__list",style:{display:s?"block":"none"},children:Object(j.jsx)(w,Object(i.a)({},e))})]})}function S(e){var t=e.name,c=void 0===t?"":t,a=e.closeAlert,s=void 0===a?Function.prototype:a;return Object(n.useEffect)((function(){var e=setTimeout(s,2e3);return function(){clearTimeout(e)}}),[c]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"toast-container",children:[Object(j.jsx)("div",{className:"toast-header",children:Object(j.jsx)("strong",{className:"me-auto",children:"Message"})}),Object(j.jsx)("div",{className:"toast-body",children:c})]})})}function F(){var e=Object(n.useState)([]),t=Object(o.a)(e,2),c=t[0],a=t[1],s=Object(n.useState)([]),r=Object(o.a)(s,2),d=r[0],h=r[1],m=Object(n.useState)(null),O=Object(o.a)(m,2),p=O[0],g=O[1],w=Object(n.useState)(function(){var e=localStorage.getItem("watchList");return e&&e.length?JSON.parse(e):[]}()),F=Object(o.a)(w,2),L=F[0],E=F[1],C=Object(n.useState)(""),T=Object(o.a)(C,2),W=T[0],D=T[1];Object(n.useEffect)((function(){f().then((function(e){a(e)}))}),[]),Object(n.useEffect)((function(){!function(){var e=Object(l.a)(c);L.forEach((function(t){var n=c.findIndex((function(e){return e.id===t.id}));if(n>-1){var a=Object(i.a)(Object(i.a)({},c[n]),{},{isWatch:!0});e=[].concat(Object(l.a)(e.slice(0,n)),[a],Object(l.a)(e.slice(n+1)))}})),h(e)}()}),[c,L]),Object(n.useEffect)((function(){localStorage.setItem("watchList",JSON.stringify(L))}),[L]);var I=p||Object(j.jsx)(N,{getData:d,addToWatchList:function(e){var t=L.findIndex((function(t){return t.id===e.id}));if(t<0)E([].concat(Object(l.a)(L),[e])),D("".concat(e.title," added to watch list"));else{var c=[].concat(Object(l.a)(L.slice(0,t)),Object(l.a)(L.slice(t+1)));E(Object(l.a)(c)),D("".concat(e.title," removed from the watch list"))}}}),J=d.length||p?I:Object(j.jsx)(v,{});return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(b,{}),Object(j.jsxs)("main",{className:"container position-relative",children:[Object(j.jsx)("div",{className:"row"}),Object(j.jsx)("div",{className:"position-fixed top-20 end-0 btn btn-light watchlist",children:Object(j.jsx)(k,{watchList:L,removeFromWatchList:function(e){var t=e.id,c=e.title;E(L.filter((function(e){return e.id!==t}))),D("".concat(c," removed from the watch list"))}})}),Object(j.jsx)("div",{className:"row mb-4",children:Object(j.jsx)(y,{onSearch:function(e,t){a([]),x(e,t).then((function(e){if(e.Error)throw new Error(e.Error);return e})).then((function(e){g(null),a(e)})).catch((function(e){g(e.message),a([])}))}})}),J]}),W&&Object(j.jsx)(S,{name:W,closeAlert:function(){D("")}}),Object(j.jsx)(u,{})]})}r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(F,{})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.2c6bb612.chunk.js.map
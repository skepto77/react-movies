{"version":3,"sources":["context/reducer.js","components/Service.jsx","context/context.js","layout/Header.jsx","layout/Footer.jsx","components/Loader.jsx","components/MovieItem.jsx","components/MovieList.jsx","components/Search.jsx","components/WatchListItems.jsx","components/WatchList.jsx","components/Alert.jsx","pages/Home.jsx","pages/About.jsx","components/MovieDetails.jsx","pages/Details.jsx","pages/NotFound.jsx","App.js","index.js"],"names":["reducer","state","type","payload","console","log","data","watchList","alert","loading","message","getResource","url","a","fetch","process","response","ok","Error","status","json","getDefaultMovies","res","Search","map","_transformData","getMovieById","id","getSearchMovies","value","item","Title","Type","Poster","imdbID","rest","title","poster","isWatch","MoviesContext","createContext","initialState","localStorage","getItem","length","JSON","parse","setDefaultWatchList","ContextProvider","children","useReducer","dispatch","compareDataWithWatchList","Array","isArray","findIndex","setData","addToWatchList","idx","newWatchListItem","slice","removeFromWatchList","filter","useEffect","setItem","stringify","handleSearch","service","then","catch","error","closeAlert","Provider","Header","className","to","src","alt","style","paddingRight","height","Footer","Date","getFullYear","href","Loader","role","MovieItem","props","useContext","classType","marginRight","onClick","color","MovieList","Function","prototype","history","useHistory","useLocation","pathname","search","useState","queryString","setText","setType","handleChangeRadio","e","target","onSubmit","preventDefault","push","placeholder","onChange","name","checked","WatchListItems","WatchList","isShown","showList","display","Alert","timerId","setTimeout","clearTimeout","Home","About","goBack","MovieDetails","movie","Object","keys","key","includes","Details","useParams","action","NotFound","App","basename","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.71ec81f7.chunk.js","sourcesContent":["export function reducer(state, { type, payload }) {\n  console.log(type, payload );\n  switch (type) {\n      case 'SET_DATA':\n        return {\n            ...state,\n            data: payload || [],\n            // loading: false,\n        };\n     case 'ADD_TO_WATCHLIST':\n      return {\n          ...state,\n          watchList: payload.watchList,\n          alert: payload.alert,\n          data: payload.data,\n      };\n      case 'REMOVE_FROM_WATCHLIST':\n        return {\n            ...state,\n            watchList: payload.watchList,\n            alert: payload.alert,\n        };\n\n      case 'SET_LOADING':\n        return {\n            ...state,\n            loading: payload,\n        };\n  \n      case 'SET_MESSAGE':\n        return {\n            ...state,\n            message: payload,\n        };\n\n      case 'SET_ALERT':\n        return {\n            ...state,\n            alert: payload,\n        };\n\n      case 'CLOSE_ALERT':\n        return {\n            ...state,\n            alert: '',\n        };\n\n      default:\n        return state;\n  }\n}\n","const API_KEY = process.env.REACT_APP_API_KEY;\nconst _apiBase = 'https://www.omdbapi.com/';\nconst _proxy = 'https://cors-anywhere.herokuapp.com';\n\nconst getResource = async (url) => {\n  const response = await fetch(`${_apiBase}?apikey=${API_KEY}${url}`);\n  if (!response.ok) {\n    throw new Error(`Could not fetch ${url}` +\n      `, received ${response.status}`)\n  }\n  return await response.json();\n}\n\nexport const getDefaultMovies = async () => {\n    const res = await getResource(`&plot=full&s=doctor`);\n    return res.Search.map(_transformData);\n}\n\nexport const getMovieById = async (id) => {\n  const res = await getResource(`&plot=full&i=${id}`);\n  return (_transformData(res));\n}\n\nexport const getSearchMovies = async (value, type) => {\n  const res = await getResource(`&plot=full&s=${value}${type !== 'all' ? `&type=${type}` : ''}`);\n  return (res.Search) ? res.Search.map(_transformData) : res;\n}\n\nconst _transformData = (item) => {\n  const {Title, Type, Poster, imdbID, ...rest} = item;\n  return {\n    title: Title,\n    type: Type,\n    poster: (Poster === 'N/A') ? 'https://via.placeholder.com/500x660.png?text=no+poster' : Poster,\n    id: imdbID,\n    isWatch: false,\n    ...rest,\n  }\n}\n\n\n","import { createContext, useReducer, useEffect } from 'react';\nimport { reducer } from './reducer';\nimport * as service  from '../components/Service';\n\nexport const MoviesContext = createContext();\n\nfunction setDefaultWatchList() {\n  const watchList = localStorage.getItem('watchList');\n  return (watchList && watchList.length) ? JSON.parse(watchList) : [];\n}\n\nconst initialState = {\n  data: [],\n  watchList: setDefaultWatchList(),\n  loading: true,\n  message: null,\n  alert: '',\n};\n\nexport const ContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, initialState);\n\n  const compareDataWithWatchList = (data) => {\n    if (!Array.isArray(data)) {\n      data = [data];\n    }\n    return data.map((item) => {\n      let idxData = state.watchList.findIndex((value) => value.id === item.id);\n      if (idxData > -1) {\n        return {...item, isWatch: true }\n      }\n      return {...item, isWatch: false }\n    })\n  }\n\n  state.setData = (data) => {\n    dispatch({ type: 'SET_LOADING', payload: true });\n    dispatch({ type: 'SET_DATA', payload: compareDataWithWatchList(data) });\n    dispatch({ type: 'SET_LOADING', payload: false });\n  };\n\n  state.addToWatchList = (item) => {\n    const idx = state.watchList.findIndex((value) => value.id === item.id);\n    if (idx < 0) { \n      dispatch({ type: 'ADD_TO_WATCHLIST', \n        payload: {\n          watchList:[...state.watchList, item],\n          data: compareDataWithWatchList(state.data),\n          alert: `${item.title} added to watch list`\n        }\n      });\n    } else {\n      const newWatchListItem = [...state.watchList.slice(0, idx), ...state.watchList.slice(idx + 1)];\n      dispatch({ type: 'ADD_TO_WATCHLIST', \n        payload: {\n          watchList:[...newWatchListItem],\n          data: compareDataWithWatchList(state.data),\n          alert: `${item.title} removed from the watch list`,\n        }\n      // dispatch({ type: 'ADD_TO_WATCHLIST', payload: [...newWatchListItem] });\n      // dispatch({ type: 'SET_DATA', payload: compareDataWithWatchList(state.data) });\n      // dispatch({ type: 'SET_ALERT', payload: `${item.title} removed from the watch list`});\n      });\n    }\n  };\n\n  state.removeFromWatchList = ({id, title}) => {\n    dispatch({ type: 'REMOVE_FROM_WATCHLIST',\n      payload: {\n        watchList: state.watchList.filter((item) => item.id !== id),\n        alert: `${title} removed from the watch list`,\n      }\n    });\n  };\n\n  useEffect(() => {\n    localStorage.setItem('watchList', JSON.stringify(state.watchList));\n    dispatch({ type: 'SET_DATA', payload: compareDataWithWatchList(state.data) });\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [state.watchList])\n\n  state.handleSearch = (value, type) => {\n    dispatch({ type: 'SET_DATA', payload: []});\n    service.getSearchMovies(value, type)\n      .then((data) => {\n        if (data.Error) {\n          throw new Error(data.Error)\n        }\n        return data;\n      })\n      .then((data) => {\n        dispatch({ type: 'SET_MESSAGE', payload: null });\n        dispatch({ type: 'SET_DATA', payload: compareDataWithWatchList(data) });\n        dispatch({ type: 'SET_LOADING', payload: false });\n      })\n      .catch((error) => {\n        dispatch({ type: 'SET_MESSAGE', payload: error.message });\n        dispatch({ type: 'SET_DATA', payload: [] });\n        dispatch({ type: 'SET_LOADING', payload: false });\n      });\n  };\n\n  // state.openAlert = (message) => {\n  //   dispatch({ type: 'SET_MESSAGE', payload: message });\n  // }\n\n  state.closeAlert = () => {\n      dispatch({ type: 'CLOSE_ALERT' });\n  };\n\n  return (\n      <MoviesContext.Provider value={state}>{children}</MoviesContext.Provider>\n  );\n};","import { Link } from 'react-router-dom';\n\nexport default function Header() {\n\n  return (\n    <nav className=\"navbar navbar navbar-dark bg-dark shadow-sm\">\n      <div className=\"container\">\n        <Link className=\"navbar-brand\" to=\"/\">\n          <img src=\"https://img.icons8.com/fluent/96/000000/video-gallery.png\" alt=\"movies\" style={{paddingRight: '10px', height: '24px'}} />\n          movies\n        </Link>\n        <Link to=\"/about\" className=\"nav-link navbar-text\">About</Link>\n      </div>\n    </nav>\n  )\n}","export default function Footer() {\n\n  return (\n    <footer className=\"navbar navbar-light bg-light\">\n      <div className=\"container d-flex flex-row justify-content-justify\">\n          <div className=\"\">\n            movies app, {new Date().getFullYear()}\n          </div>\n          <div className=\"\">\n            <a href=\"https://skepto77.github.io/react-movies/\" className=\"nav-link navbar-text\">Github</a>\n          </div>\n      </div>\n    </footer>\n  )\n}\n","const Loader = () => {\n  return (\n    <div className=\"d-flex justify-content-center\">\n      <div className=\"spinner-border\" role=\"status\">\n        <span className=\"visually-hidden\">Loading...</span>\n      </div>\n    </div>\n  );\n};\n\nexport default Loader;","import { useContext } from 'react';\nimport { MoviesContext } from '../context/context';\nimport { Link } from 'react-router-dom';\n\nexport default function MovieItem (props) {\n  const { addToWatchList } = useContext(MoviesContext);\n  const {title, type, poster, id, isWatch} = props;\n  const classType = (type === 'movie') ? 'badge rounded-pill bg-primary' : 'badge rounded-pill bg-warning text-dark';\n  \n  return (\n    <>\n      <div className=\"col-sm-6\" key={id}>\n        <div className=\"card h-100 border-0 shadow p mb-5 bg-body rounded\">\n          <Link to={`/${id}`}><img src={poster} className=\"card-img-top\" alt=\"{title}\" /></Link>\n          <div className=\"card-body\">\n            <p className={classType}>{type}</p>\n            <h5 className=\"card-title\">{title}</h5>\n            <p className=\"card-text\">{`${title.slice(0, 10)}...`} This content is a little bit longer.</p>\n            <Link to={`/${id}`} type=\"button\" className=\"btn btn-sm btn-primary\" style={{marginRight: '10px'}}>Details</Link>\n            <button type=\"button\" className=\"btn btn-sm btn-light\" onClick={() => addToWatchList({id, title})}>{(isWatch) ? <i className=\"bi bi-heart-fill\" style={{color: 'red'}}></i> : <i className=\"bi bi-heart\"></i>}</button>\n            </div>\n          </div>\n        </div>\n    </>\n  )\n}","import { useContext } from 'react';\nimport { MoviesContext } from '../context/context';\nimport MovieItem from './MovieItem';\nimport Loader from '../components/Loader';\n\nexport default function MovieList () {\n  const { data = [] } = useContext(MoviesContext);\n\n  // if (!data.length) {\n  //   return <h3>Nothing here</h3>;\n  // }\n\n  return (\n    <>  \n      {/* {data.length || !data.length && <Loader />} */}\n      <div className=\"row row-cols-1 row-cols-md-4 g-4\">\n        {data.map((item) => (\n                <MovieItem key={item.id} {...item} />\n        ))}\n      </div>\n    </>\n  )\n}","import { useContext, useState  } from 'react';\nimport { MoviesContext } from '../context/context';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport queryString from 'query-string';\n\nexport default function Search() {\n  const { handleSearch = Function.prototype } = useContext(MoviesContext);\n  const history = useHistory();\n  const { pathname, search } = useLocation();\n \n  const [ value = 'doctor', setText] = useState(queryString.parse(search).value);\n  const [ type = 'all', setType] = useState(queryString.parse(search).type);\n\n  const handleChangeText = (e) => setText(e.target.value);\n  const handleChangeRadio = (e) => setType(e.target.value);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    history.push({\n      pathname,\n      search: `?value=${value}&type=${type}`,\n    });\n    handleSearch(value, type);\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"input-group search-input-group\">\n        <input type=\"text\"\n          className=\"form-control search-input\"\n          placeholder=\"type to search\" \n          onChange={handleChangeText}\n          value={value}/>\n        <button type=\"submit\" className=\"btn btn-primary btn-search\">Search</button>\n      </div>\n      <div className=\"form-check form-check-inline\">\n        <input \n          className=\"form-check-input\" \n          type=\"radio\" \n          value=\"all\"\n          onChange={handleChangeRadio}\n          name=\"Radios\"\n          checked = {type === 'all'}/>\n        <label className=\"form-check-label\">\n          All\n        </label>\n      </div>\n      <div className=\"form-check form-check-inline\">\n        <input \n          className=\"form-check-input\" \n          type=\"radio\" \n          value=\"movie\" \n          name=\"Radios\" \n          onChange={handleChangeRadio}\n          checked = {type === 'movie'}/>\n        <label className=\"form-check-label\">\n          Only movies  \n        </label>\n      </div>\n      <div className=\"form-check form-check-inline\">\n        <input className=\"form-check-input\" \n          type=\"radio\" \n          value=\"series\"  \n          name=\"Radios\"\n          onChange={handleChangeRadio}\n          checked = {type === 'series'}/>\n        <label className=\"form-check-label\">\n          Only series \n        </label>\n      </div>\n    </form>\n  )\n}","import { Link } from 'react-router-dom';\nimport { useContext } from 'react';\nimport { MoviesContext } from '../context/context';\n\nexport default function WatchListItems (props) {\n  const { watchList = [],  removeFromWatchList = Function.prototype } = useContext(MoviesContext);\n  const renderItems = () => {\n    return (\n      watchList.map(item => {\n        const {id, title} = item;\n        return (\n          <li key={id} className=\"list-group-item d-flex justify-content-between align-items-center\">\n            <Link to={`/${id}`} className=\"btn btn-light\">{title}</Link>\n            <span className=\"\" onClick={() => removeFromWatchList({id, title})}><i className=\"bi bi-x\"></i></span>\n          </li>\n        )\n      })\n    )\n  }\n  return (\n    <> \n      <h5>My list</h5>\n      <ul className=\"list-group\">\n      {watchList.length ? renderItems() : <p>List is empty</p>}\n      </ul>\n    </>\n  )\n}","import React, {useState} from 'react';\nimport { useContext } from 'react';\nimport { MoviesContext } from '../context/context';\nimport WatchListItems from './WatchListItems';\n\nexport default function WatchList () {\n  const [ isShown, showList ] = useState(false);\n  const { watchList = [] } = useContext(MoviesContext);\n  return (\n    <> \n      <div className=\"\" onClick = {() => showList(!isShown)}>\n        <i className=\"bi bi-heart\"></i> {watchList.length}\n      </div>\n      <div className=\"watchlist__list\" style={{ display: isShown ? 'block' : 'none' }}>\n        <WatchListItems {...watchList} />\n      </div>\n    </>\n  )\n}","import { useContext } from 'react';\nimport { MoviesContext } from '../context/context';\nimport { useEffect } from 'react';\n\nexport default function Alert (props) {\n  // const { name = '', closeAlert = Function.prototype } = props;\n  const { alert: name = '', closeAlert = Function.prototype } = useContext(MoviesContext);\n  useEffect(() => {\n    const timerId = setTimeout(closeAlert, 2000);\n\n    return () => {\n        clearTimeout(timerId);\n    };\n      // eslint-disable-next-line\n  }, [name]);\n\n  return (\n    <> \n    <div className=\"toast-container\">\n      <div className=\"toast-header\">\n        <strong className=\"me-auto\">Message</strong>\n        {/* <small>type</small> */}\n      </div>\n      <div className=\"toast-body\">\n        {name}\n      </div>\n    </div>\n    </>\n  )\n}","import React, { useEffect, useContext } from 'react';\nimport { useLocation, useHistory } from 'react-router-dom';\nimport { MoviesContext } from '../context/context';\nimport queryString from 'query-string';\nimport * as service  from '../components/Service';\nimport Loader from '../components/Loader';\nimport MovieList from '../components/MovieList';\nimport Search from '../components/Search';\nimport WatchList from '../components/WatchList';\nimport Alert from '../components/Alert';\n\nconst Home = () => {\n  const { message, loading, alert, setData, handleSearch } = useContext(\n    MoviesContext\n  );\n\n const history = useHistory();\n  const { pathname, search } = useLocation();\n\n  //  first render with/without query string\n  useEffect(() => {\n    service.getDefaultMovies()\n      .then((data => {\n        if (search) {\n          const { value, type } = queryString.parse(search);\n          history.push({\n            pathname,\n            search: `?value=${value}&type=${type}`,\n          });\n          handleSearch(value, type);\n        } else {\n       \n          setData(data);\n        }\n      }));\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  return (\n    <> \n      \n      <div className=\"position-fixed top-20 end-0 btn btn-light watchlist\">\n        <WatchList/>\n      </div>\n      <div className=\"row mb-4\">\n        <Search/>\n      </div>\n      {loading ? <Loader /> : message ? message : <MovieList /> }\n  \n      {alert && <Alert/>}\n    </>\n  )\n}\n\nexport default Home;","import { useHistory } from 'react-router-dom';\n\nconst About = () => {\n  const { goBack } = useHistory();\n  return (\n    <div className=\"row\">\n      <div className=\"col-12\">\n        <button className=\"btn btn-light\" onClick={goBack}>back</button>\n        <h2>About</h2>\n        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam consequat nibh sagittis, convallis ipsum vel, condimentum felis. Phasellus metus felis, elementum non felis id, ultricies scelerisque metus. Nulla scelerisque tellus ut facilisis pellentesque. Etiam tristique risus in elementum commodo. Morbi cursus erat eu ipsum ultricies, non consequat ligula accumsan. Sed tempor sollicitudin diam, eu lacinia est mollis non. Ut cursus pellentesque diam, eu vehicula mi hendrerit id. Cras eget aliquet purus, a hendrerit ipsum. Nam fringilla ante ligula, eget consectetur risus convallis eget. Donec sit amet sem orci. Curabitur commodo lorem non scelerisque blandit. Fusce ut mauris sodales, viverra tortor et, tincidunt eros. Ut elementum mauris a posuere fermentum. Maecenas consectetur mi non ligula efficitur lacinia.\n        </p><p>Nam ac urna dictum, tristique tellus ullamcorper, scelerisque tellus. Pellentesque nec enim est. Vivamus eros mi, sodales eget est et, interdum ultricies ante. Duis et sagittis velit. Nam feugiat libero eu leo condimentum, eu dapibus nunc bibendum. Sed non metus eros. In mi ex, blandit egestas vestibulum eget, viverra sed est. Maecenas rhoncus rutrum ante eu dapibus. Mauris pharetra euismod imperdiet. Donec interdum sollicitudin est a tincidunt. Praesent luctus, leo nec luctus placerat, turpis quam interdum lorem, in gravida diam enim ut justo. In lorem est, laoreet vitae consectetur nec, aliquam a lorem. Aenean nec velit at sapien egestas elementum at a metus. Proin semper feugiat eros, eget egestas sem sagittis quis. Mauris viverra nunc neque, ac vulputate justo efficitur sit amet. Curabitur metus velit, finibus sit amet porttitor non, egestas sit amet quam.\n        </p><p>Ut mollis hendrerit eros ac interdum. Ut ac magna mi. Nulla sollicitudin, turpis id laoreet tristique, massa risus tincidunt leo, et mollis sem quam non leo. Donec sagittis tellus ac magna rhoncus, id finibus quam tempus. Nullam dapibus vestibulum dictum. Duis semper quam in nisl blandit imperdiet. Maecenas id leo eget magna sagittis egestas. Donec eu augue leo. Nunc cursus nunc ex, nec maximus justo pellentesque nec. Vestibulum ultrices est eget ligula blandit consectetur. Vivamus rutrum ante in tincidunt suscipit. Sed fermentum arcu nisi. Ut a turpis egestas, venenatis nibh id, hendrerit nisi. Pellentesque auctor in ante sit amet vulputate.\n        </p><p>Duis sagittis sollicitudin diam, sodales egestas mi rutrum et. Aenean non enim sed mi consectetur semper. Duis efficitur est vitae feugiat pharetra. Vivamus in mauris pellentesque, scelerisque ante eu, malesuada metus. Donec eget consectetur odio. Fusce sollicitudin risus sed porttitor auctor. Maecenas est ligula, suscipit in fringilla et, venenatis at turpis. Curabitur lectus lorem, maximus ultricies ipsum a, condimentum elementum dui. Cras id urna quis ante feugiat cursus. Sed porttitor venenatis nisi, vel tempor diam malesuada rhoncus. Nulla luctus justo eget ante commodo, eget luctus purus placerat. Curabitur sit amet bibendum eros, et sagittis diam. Donec laoreet porta ex. Donec volutpat sapien lorem, vel auctor nisl tincidunt a. Aenean at mauris tristique, vehicula risus volutpat, pharetra urna.\n        </p><p>Sed diam orci, auctor vel ultricies vitae, porta sit amet urna. Cras vestibulum scelerisque blandit. Suspendisse accumsan risus at elit ultricies mollis. Duis blandit, sapien ac consectetur vulputate, magna nibh facilisis ex, et maximus purus lacus vel leo. Nulla quis tincidunt justo, sit amet molestie nisl. Etiam enim metus, interdum in volutpat vitae, accumsan sit amet felis. Aenean gravida mi non dapibus dapibus. Quisque ac aliquam dui, in tincidunt turpis. Maecenas metus massa, iaculis non interdum eu, dictum non eros. Mauris sit amet orci tincidunt, vestibulum lacus vitae, sollicitudin lorem. Fusce vel arcu nulla. Proin commodo erat in nisl volutpat tincidunt. Etiam faucibus nisl vitae lacinia hendrerit. Ut tortor nisl, placerat vel neque eget, pretium elementum velit. Fusce in lacus id metus aliquam semper vel non leo. Aliquam sed mi posuere, commodo orci quis, malesuada turpis.\n        </p>\n      </div>\n    </div>\n  )\n}\n\nexport default About;","import { useContext } from 'react';\nimport { MoviesContext } from '../context/context';\n\nexport default function MovieDetails({ movie }) {\n  const { addToWatchList } = useContext(MoviesContext);\n  const renderDescription = () => {\n    return (  \n      Object.keys(movie)\n        .filter((key) => !['title', 'Ratings', 'poster', 'imdbVotes', 'Response', 'isWatch', 'type', 'id'].includes(key))\n        .map((key) => {\n          return (\n            <li key={key} className=\"list-group-item\"><strong>{key}:</strong> {movie[key]}</li>\n          );\n        })     \n    )\n  }\n\n  const {title, poster, type, isWatch, id} = movie;\n  const classType = (type === 'movie') ? 'badge rounded-pill bg-primary' : 'badge rounded-pill bg-warning text-dark';\n\n  return (\n    <>\n      <div className=\"row\">\n        <div className=\"col-md-4 col-sm-12\">\n          <img src={poster} className=\"card-img-top\" alt=\"{title}\" />\n          <button type=\"button\" className=\"btn btn-sm btn-light mt-2\" onClick={() => addToWatchList({id, title})}>{(isWatch) ? <i className=\"bi bi-heart-fill\" style={{color: 'red'}}></i> : <i className=\"bi bi-heart\"></i>}</button>\n        </div>\n        <div className=\"col-md-8 col-sm-12\">\n          <h3>{title} <span className={classType}>{type}</span></h3>\n          <ul className=\"list-group list-group-flush\">\n            {renderDescription(movie)}\n          </ul>\n        </div>\n      </div>\n    </> \n  )\n}","import { useEffect, useContext} from 'react';\nimport { useParams, useHistory } from 'react-router-dom';\nimport { getMovieById } from '../components/Service';\nimport Loader from '../components/Loader';\nimport MovieDetails from '../components/MovieDetails';\nimport { MoviesContext } from '../context/context';\nimport WatchList from '../components/WatchList';\nimport Alert from '../components/Alert';\n\n\nexport default function Details() {\n  const { id } = useParams();\n  const history = useHistory();\n  const { data, setData, loading, alert } = useContext(\n    MoviesContext\n  );\n\n  useEffect(() => {\n    setData([]);\n    getMovieById(id).then((data) => setData(data));\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [id]);\n\n  const handleBack = () => {\n    setData([]);\n    if (history.action === 'PUSH') {\n      history.goBack();\n    } else {\n      history.push('/')\n    }\n  }\n\n  return (\n    <>\n      <div className=\"position-fixed top-20 end-0 btn btn-light watchlist\">\n        <WatchList/>\n      </div>\n      <div className=\"row mb-4\">\n        <div className=\"col-12\">\n          <button className=\"btn btn-light\" onClick={() => handleBack()}>back</button>\n        </div>\n      </div>\n      {(!data.length) ? (<Loader />) : (<MovieDetails movie={data[0]}/>)}\n      {alert && <Alert/>}\n    </> \n  )\n}","const NotFound = () => {\n\n  return (\n    <> \n      <div className=\"\">\n        404<br />\n        Page not found\n      </div>\n    </>\n  )\n}\n\nexport default NotFound;","import React from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom';\nimport { ContextProvider } from './context/context';\nimport Header from './layout/Header';\nimport Footer from './layout/Footer';\n\nimport Home from './pages/Home';\nimport About from './pages/About';\nimport Details from './pages/Details';\nimport NotFound from './pages/NotFound';\n\nexport default function App() {\n\n  return (\n    <ContextProvider>\n      <Router basename=\"/react-movies\">\n        <Header />\n          <main className=\"container position-relative\">\n          <Switch>\n            <Route exact path=\"/\" component={Home}></Route>\n            <Route path=\"/about\" component={About}></Route>\n            <Route path=\"/:id\" component={Details}></Route>\n            <Route component={NotFound}></Route>\n          </Switch>\n          </main>\n        <Footer />\n      </Router>\n    </ContextProvider>\n  );\n}\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}